# Lab Week17 - 虚拟存储管理

**郑有为 19335286**

如果图片或链接显示异常，请访问 [OSHomework-LabWeek17.md(Gitee)](https:gitee.com/WondrousWisdomcard/oshomework/blob/master/LabWeek17/LabWeek17.md)。我把代码和截图都放在了仓库 [OSHomework(Gitee)](https:gitee.com/WondrousWisdomcard/oshomework)。

## 目录

* 实验内容：虚拟存储管理。
    * 编写一个 C 程序模拟实现课件 Lecture24 中的请求页面置换算法包括FIFO、LRU (stack and matrix implementation)、Second Chance，并设计输入用例验证结果。

[toc]

## 实验原理

* 页面置换算法：进程运行时，若其访问的页面不在内存而需将其调入，但内存已无空闲空间时，就需要从内存中调出一页程序或数据，送入磁盘的对换区。选择调出页面的算法就称为页面置换算法。好的页面置换算法应有较低的页面更换频率，也就是说，应将以后不会再访问或者以后较长时间内不会再访问的页面先调出。

* FIFO: 可以理解为页面被调出的规则满足先进先出，当必须置换页面时，选择最旧的页面，我们通过创建一个FIFO队列来管理所有的内存页面，置换的是队列的首个页面，当需要调入页面到内存时，就将它加入到队列的尾部。

* LRU：最近最少使用算法，是一种对最优算法的近似，将每个页面与他上一次使用的时间关联起来，当需要页面置换时，选择最长时间没有使用的页面。以下是三种实现策略：通过计数器、堆栈、和基于硬件的矩阵处理。对于堆栈，每当页面被调用时将其移动到队列的顶部，被换掉的页面的永远都是处于队列尾部的页面。在代码中我通过双向静态链表来实现；对于基于矩阵的算法，计算的规则是每当一个页面被调用时将对应矩阵的一行变为1,将对应矩阵的一列变为0,每次选择横向最小的页面调出，在模拟代码中，我们基于循环的复杂度比较高。

* Second-chance：第二次机会算法，又称为时钟算法，是一种近似LRU的页面置换方法，即每一个页面额外一次保留在页表的机会，每次调用刷新，时钟循环检测以选出应被调出的页面。实现很容易，我们采用循环队列的方式，通过一个引用位来实现两次机会的过程。

## 程序实现

### 主要数据结构和函数

* 节点结构，是LRU(Stack)算法中静态双向链表的基本单元，也是Second-chance算法中循环队列的基本单元。
	``` c
	typedef struct node{
		int num;
		int refbit;
		int next;
		int prev;
	}node;
	```
	
* 关键算法：
	``` c
	void fifo(); // FIFO算法，并提供可视化输出
	void lrus(); // 基于Stack实现的LRU，并提供可视化输出
	void lrum(); // 基于矩阵的LRU，并提供可视化输出
	void scpr(); // Second Chance Page Replacement算法，并提供可视化输出
	
	void randon_test(int frame_num, int refer_len); // 生成1000个随机序列进行测试，求得每个算法的平均页面置换次数
	```
	
### 算法复杂度分析

令帧总数为M，引用串的长度为N，引用的最大值S，分析实现的各函数，有
* 时间复杂度：
	* FIFO: O(NM)
	* LRU(Stack): O(NM)
	* LRU(Matrix): O(MNS+MS^2)
 	* SCPR: O(NM)
* 空间复杂度：
	* FIFO: O(N+M)
	* LRU(Stack): O(N+M)
	* LRU(Matrix): O(M+S^2)
 	* SCPR: O(M+N)
可以看到在实现上，基于矩阵的LRU时间复杂度和空间复杂度相对比较高。

### 输入输出说明

* 输入：跟随指引，输入帧总数、引用串长度、选择模式（手动输入测试还是随机测试）、前者还需要输入引用串元素的最大值，后者需要输入引用串，两种界面如下：
	随机：
	```
	---------Page-replacement Algorithm Simulation---------
	Enter the number of frame: 3
	Enter the length of reference string: 20
	Enter '0' to start manual test, or '1' to randon test: 1
	Random Test:
	We will have 1000 random tests to calculate average effect of each algorithm
	Enter the ulimt of page reference: 8
	Reference string of each test has 20 elements, range from [0,8)
	```

	手动测试：
	```
	---------Page-replacement Algorithm Simulation---------
	Enter the number of frame: 1
	Enter the length of reference string: 10
	Enter '0' to start manual test, or '1' to randon test: 0
	Enter the reference string: 1 2 2 3 3 3 2 3 2 1
	-------------------------------------------------------
	```
	
	随后是模式选择，有以下五种选项：
	```
	----------------------Choose Mode----------------------
	(1) FIFO
	(2) LRU (stack implementation)
	(3) LRU (matrix implementation)
	(4) Second-chance page-replacment
	(5) All of them sequently
	Choose one mode to run(1-5): 
	```

* FIFO/FIFO(Stack)大致效果如下：对于每个请求输出一次队列，有`Page 07 Misses! Replace in`，`Page 02 Misses! Swap with LRU Frame`，`Page 00 Hits!`三种返回信息，会被输入到对应一行被置换入中。

	```
	---------------------FIFO PageSwap---------------------
	No.01 Request for Page 07
	+-------+--------+----------------------------+
	| Frame | PageID | Info                       |
	|   0   |   07   | Page 07 Misses! Replace in |
	|   1   |        |                            |
	|   2   |        |                            |
	+-------+--------+----------------------------+
	No.02 Request for Page 00
	+-------+--------+----------------------------+
	| Frame | PageID | Info                       |
	|   0   |   07   |                            |
	|   1   |   00   | Page 00 Misses! Replace in |
	|   2   |        |                            |
	+-------+--------+----------------------------+
	No.03 Request for Page 01
	+-------+--------+----------------------------+
	| Frame | PageID | Info                       |
	|   0   |   07   |                            |
	|   1   |   00   |                            |
	|   2   |   01   | Page 01 Misses! Replace in |
	+-------+--------+----------------------------+
	...
	FIFO algorithm finished, with 15 swap times
	-------------------------------------------------------
	```
	
* LRU(Matrix)大致效果：除了会输出帧表，还会输出每次的矩阵。

	```
	----------Least-Recent-Used PageSwap (Matrix)----------
	No.01 Request for Page 07
	+ Matrix ---------+
	| 0 0 0 0 0 0 0 0 |
	| 0 0 0 0 0 0 0 0 |
	| 0 0 0 0 0 0 0 0 |
	| 0 0 0 0 0 0 0 0 |
	| 0 0 0 0 0 0 0 0 |
	| 0 0 0 0 0 0 0 0 |
	| 0 0 0 0 0 0 0 0 |
	| 1 1 1 1 1 1 1 0 |
	+-------+--------+-------------------------------------+
	| Frame | PageID | Info                                |
	|   0   |   07   | Page 07 Misses! Fill Empty Frame    |
	|   1   |        |                                     |
	|   2   |        |                                     |
	+-------+--------+-------------------------------------+
	...
	```
	
* Second-chance大致效果：每项包含引用位信息(Use)。

	```
	...
	No.08 Request for Page 04
	+-------+--------+-----+--------------------------------------+
	| Frame | PageID | Use | Info                                 |
	|   0   |   04   |  1  | Page 04 Misses! Swap into this Frame |
	|   1   |   00   |  0  |                                      |
	|   2   |   03   |  0  |                                      |
	+-------+--------+-----+--------------------------------------+
	...
	```

* 执行结束后都会输出总页置换次数。

* 随机测试效果：不会输出每次流程，只会统计调用结果（前20次页交换次数和平均次数AVE）

	```
	+-----+------+------+------+------+
	| No. | FIFO | LRUS | LRUM | SCPR |
	| 000 |  17  |  17  |  17  |  17  |
	| 001 |  15  |  15  |  15  |  14  |
	| 002 |  13  |  13  |  13  |  13  |
	| 003 |  14  |  14  |  14  |  14  |
	| 004 |  13  |  13  |  13  |  13  |
	| 005 |  13  |  13  |  13  |  13  |
	| ... |  ..  |  ..  |  ..  |  ..  |
	+-----+------+------+------+------+
	| AVE |13.356|13.344|13.344|13.357|
	+-----+------+------+------+------+
	```

## 程序测试

### 随机测试

* 输入，在测试中，我们设置帧数目为3，每次测试引用串长度为20，最大引用为7,通过1000次的模拟测试，发现不同算法的平均置换次数非常接近，约为13.3次。在完全随机下，LRU和SCPR的算法优势没有显现出来，当然这也与帧数目和串长度，应用范围有关，以下是对应的程序输出：

	```
	We will have 1000 random tests to calculate average effect of each algorithm
	Enter the ulimt of page reference: 8
	Reference string of each test has 20 elements, range from [0,8)
	+-----+------+------+------+------+
	| No. | FIFO | LRUS | LRUM | SCPR |
	| 000 |  17  |  17  |  17  |  17  |
	| 001 |  15  |  15  |  15  |  14  |
	| 002 |  13  |  13  |  13  |  13  |
	| 003 |  14  |  14  |  14  |  14  |
	| 004 |  13  |  13  |  13  |  13  |
	| 005 |  13  |  13  |  13  |  13  |
	| 006 |  14  |  15  |  15  |  14  |
	| 007 |  13  |  13  |  13  |  13  |
	| 008 |  14  |  14  |  14  |  14  |
	| 009 |  15  |  15  |  15  |  15  |
	| 010 |  12  |  13  |  13  |  13  |
	| 011 |  13  |  13  |  13  |  13  |
	| 012 |  14  |  14  |  14  |  14  |
	| 013 |  12  |  11  |  11  |  12  |
	| 014 |  14  |  14  |  14  |  14  |
	| 015 |  14  |  14  |  14  |  14  |
	| 016 |  14  |  13  |  13  |  14  |
	| 017 |  12  |  11  |  11  |  12  |
	| 018 |  17  |  17  |  17  |  17  |
	| 019 |  14  |  13  |  13  |  13  |
	| ... |  ..  |  ..  |  ..  |  ..  |
	+-----+------+------+------+------+
	| AVE |13.356|13.344|13.344|13.357|
	+-----+------+------+------+------+
	```

### 普通测试

以课本的P275页的例子作为输入，观察不同算法的页面替换情况。

* 输入：
	```
	3
	20
	7 0 1 2 0 3 0 4 2 3 0 3 2 1 2 0 1 7 0 1
	```
* 输出：

	完整的输出在附录当中，下面仅截取了每个算法的前5段（共20段），并简单分析。
	经过检查，程序的输出与课本上的图例是完全吻合的。
	
	* FIFO输出：
		* 总替换次数是15次，前三次是页面的直接换入;
		* 第四次请求2号页面，该页面尚未存在与页表中，故将最先加入的7号页面换处，并在对应一行输出`Page 02 Misses! Replace in`。
		* 第五行请求0号页面，已经存在与页表当中，故输出`Page 00 Hits!`在相应一行。
		
		```
		---------------------FIFO PageSwap---------------------
		No.01 Request for Page 07
		+-------+--------+----------------------------+
		| Frame | PageID | Info                       |
		|   0   |   07   | Page 07 Misses! Replace in |
		|   1   |        |                            |
		|   2   |        |                            |
		+-------+--------+----------------------------+
		No.02 Request for Page 00
		+-------+--------+----------------------------+
		| Frame | PageID | Info                       |
		|   0   |   07   |                            |
		|   1   |   00   | Page 00 Misses! Replace in |
		|   2   |        |                            |
		+-------+--------+----------------------------+
		No.03 Request for Page 01
		+-------+--------+----------------------------+
		| Frame | PageID | Info                       |
		|   0   |   07   |                            |
		|   1   |   00   |                            |
		|   2   |   01   | Page 01 Misses! Replace in |
		+-------+--------+----------------------------+
		No.04 Request for Page 02
		+-------+--------+----------------------------+
		| Frame | PageID | Info                       |
		|   0   |   02   | Page 02 Misses! Replace in |
		|   1   |   00   |                            |
		|   2   |   01   |                            |
		+-------+--------+----------------------------+
		No.05 Request for Page 00
		+-------+--------+----------------------------+
		| Frame | PageID | Info                       |
		|   0   |   02   |                            |
		|   1   |   00   | Page 00 Hits!              |
		|   2   |   01   |                            |
		+-------+--------+----------------------------+

		FIFO algorithm finished, with 15 swap times
		-------------------------------------------------------
		```
	
	* LRU Stack输出：
		* 页面置换次数为12。
		* 前三次与FIFO一致，我们分析4-8次
		* 在LRU Stack的显示上，不是按照帧从小到大显示的，而是从链表头一次便利，因此可以看到Frame的从上往下的顺序不是0-1-2，每次换出的都是最后一行（尾部），换入加入在最上一行（顶部），符合LRU的要求，此外，每次hit后，就会将hit的那一行挪到链表顶部，如No.05的那一行，`Page 00 Hits!`后从第三行挪到了第一行；No.07的那一行，`Page 00 Hits!`后从第二行挪到了第一行。
		```
		-----------Least-Recent-Used PageSwap (Stack)----------
		...
		No.04 Request for Page 02
		+-------+--------+-------------------------------------+
		| Frame | PageID | Info                                |
		|   0   |   02   | Page 02 Misses! Swap with LRU Frame |
		|   2   |   01   |                                     |
		|   1   |   00   |                                     |
		+-------+--------+-------------------------------------+

		No.05 Request for Page 00
		+-------+--------+-------------------------------------+
		| Frame | PageID | Info                                |
		|   1   |   00   | Page 00 Hits!                       |
		|   0   |   02   |                                     |
		|   2   |   01   |                                     |
		+-------+--------+-------------------------------------+

		No.06 Request for Page 03
		+-------+--------+-------------------------------------+
		| Frame | PageID | Info                                |
		|   2   |   03   | Page 03 Misses! Swap with LRU Frame |
		|   1   |   00   |                                     |
		|   0   |   02   |                                     |
		+-------+--------+-------------------------------------+

		No.07 Request for Page 00
		+-------+--------+-------------------------------------+
		| Frame | PageID | Info                                |
		|   1   |   00   | Page 00 Hits!                       |
		|   2   |   03   |                                     |
		|   0   |   02   |                                     |
		+-------+--------+-------------------------------------+

		No.08 Request for Page 04
		+-------+--------+-------------------------------------+
		| Frame | PageID | Info                                |
		|   0   |   04   | Page 04 Misses! Swap with LRU Frame |
		|   1   |   00   |                                     |
		|   2   |   03   |                                     |
		+-------+--------+-------------------------------------+
		...
		LRU(Stack) algorithm finished, with 12 swap times
		-------------------------------------------------------
		```
	* LRU Matrix输出：
		* 总页面置换次数为12。
		* 以第3-5次页面置换为例，每次换出矩阵行数最小值对应的页
		* 第三次是直接加入，不换出
		* 第四次是换出第七列回应的7号页面,对应的就把页表第一行（原来存7号页面）给换掉了。
		* 第五次直接命中0号页面，直接更新第0行和第0列矩阵。
		```
		----------Least-Recent-Used PageSwap (Matrix)----------
		...
		No.03 Request for Page 01
		+ Matrix ---------+
		| 0 0 1 1 1 1 1 1 |
		| 1 0 1 1 1 1 1 1 |
		| 0 0 0 0 0 0 0 0 |
		| 0 0 0 0 0 0 0 0 |
		| 0 0 0 0 0 0 0 0 |
		| 0 0 0 0 0 0 0 0 |
		| 0 0 0 0 0 0 0 0 |
		| 0 0 1 1 1 1 1 0 |
		+-------+--------+-------------------------------------+
		| Frame | PageID | Info                                |
		|   0   |   07   |                                     |
		|   1   |   00   |                                     |
		|   2   |   01   | Page 01 Misses! Fill Empty Frame    |
		+-------+--------+-------------------------------------+

		No.04 Request for Page 02
		+ Matrix ---------+
		| 0 0 0 1 1 1 1 1 |
		| 1 0 0 1 1 1 1 1 |
		| 1 1 0 1 1 1 1 1 |
		| 0 0 0 0 0 0 0 0 |
		| 0 0 0 0 0 0 0 0 |
		| 0 0 0 0 0 0 0 0 |
		| 0 0 0 0 0 0 0 0 |
		| 0 0 0 1 1 1 1 0 |
		+-------+--------+-------------------------------------+
		| Frame | PageID | Info                                |
		|   0   |   02   | Page 02 Misses! Swap with LRU Frame |
		|   1   |   00   |                                     |
		|   2   |   01   |                                     |
		+-------+--------+-------------------------------------+

		No.05 Request for Page 00
		+ Matrix ---------+
		| 0 1 1 1 1 1 1 1 |
		| 0 0 0 1 1 1 1 1 |
		| 0 1 0 1 1 1 1 1 |
		| 0 0 0 0 0 0 0 0 |
		| 0 0 0 0 0 0 0 0 |
		| 0 0 0 0 0 0 0 0 |
		| 0 0 0 0 0 0 0 0 |
		| 0 0 0 1 1 1 1 0 |
		+-------+--------+-------------------------------------+
		| Frame | PageID | Info                                |
		|   0   |   02   |                                     |
		|   1   |   00   | Page 00 Hits!                       |
		|   2   |   01   |                                     |
		+-------+--------+-------------------------------------+
		...
		LRU(Matrix) algorithm finished, with 12 swap times
		-------------------------------------------------------
		```
	
	* Second Change输出：
		* 总页面替换次数为14。
		* 可以看到每行包含一个引用位信息，第三行，由于前三次都是加入页表，不换出的，因而“时钟”还未还是转动
		* 第四次：时钟从0好开始转动顺序（递增），寻找Use为1的进行换出，饶了一圈，把所有页面的引用位置为0,最后在第0帧将7号页表换入，输出`Page 02 Misses! Swap into this Frame`。
		* 第五行：时钟还是从0号帧开始转动，直接命中第一帧的0号页面。
	
		```
		No.03 Request for Page 01
		+-------+--------+-----+--------------------------------------+
		| Frame | PageID | Use | Info                                 |
		|   0   |   07   |  1  |                                      |
		|   1   |   00   |  1  |                                      |
		|   2   |   01   |  1  | Page 01 Misses! Fill Empty Frame     |
		+-------+--------+-----+--------------------------------------+

		No.04 Request for Page 02
		+-------+--------+-----+--------------------------------------+
		| Frame | PageID | Use | Info                                 |
		|   0   |   02   |  1  | Page 02 Misses! Swap into this Frame |
		|   1   |   00   |  0  |                                      |
		|   2   |   01   |  0  |                                      |
		+-------+--------+-----+--------------------------------------+

		No.05 Request for Page 00
		+-------+--------+-----+--------------------------------------+
		| Frame | PageID | Use | Info                                 |
		|   0   |   02   |  1  |                                      |
		|   1   |   00   |  1  | Page 00 Hits!                        |
		|   2   |   01   |  0  |                                      |
		+-------+--------+-----+--------------------------------------+

		Second-chance algorithm finished, with 14 swap times
		------------------------------------------------------
		```

* 效果比较

	在这个测试中，FIFO进行了15次置换，而两种实现的LRU置换次数相同，都为12,第二次机会算法导致了14次置换。在测试中，我们还发现两种实现的LRU算法置换次数总是相同，从侧面反映其正确性。
	

### 边界测试

* 测试帧数为1的情况下，几种算法，页面置换是否发生异常。

* 输入：
	``` c
	1
	10
	1 2 2 3 3 3 2 3 2 1
	```
* 输出：

	* 以下为部分输出，显然，在帧数为1的情况下各个算法的页面置换次数肯定是一样的（本测试为7次页面置换），与当前帧相同的则命中，否则则需要置换，但在算法设计上进行验证，因为链表、矩阵、队列的处理可能会忽略这种情况的特殊性。
	
	``` c
	---------------------FIFO PageSwap---------------------
	No.01 Request for Page 01
	+-------+--------+----------------------------+
	| Frame | PageID | Info                       |
	|   0   |   01   | Page 01 Misses! Replace in |
	+-------+--------+----------------------------+
	No.02 Request for Page 02
	+-------+--------+----------------------------+
	| Frame | PageID | Info                       |
	|   0   |   02   | Page 02 Misses! Replace in |
	+-------+--------+----------------------------+
	No.03 Request for Page 02
	+-------+--------+----------------------------+
	| Frame | PageID | Info                       |
	|   0   |   02   | Page 02 Hits!              |
	+-------+--------+----------------------------+
	...
	FIFO algorithm finished, with 7 swap times
	-------------------------------------------------------

	-----------Least-Recent-Used PageSwap (Stack)----------
	No.01 Request for Page 01
	+-------+--------+-------------------------------------+
	| Frame | PageID | Info                                |
	|   0   |   01   | Page 01 Misses! Fill Empty Frame    |
	+-------+--------+-------------------------------------+

	No.02 Request for Page 02
	+-------+--------+-------------------------------------+
	| Frame | PageID | Info                                |
	|   0   |   02   | Page 02 Misses! Swap with LRU Frame |
	+-------+--------+-------------------------------------+

	No.03 Request for Page 02
	+-------+--------+-------------------------------------+
	| Frame | PageID | Info                                |
	|   0   |   02   | Page 02 Hits!                       |
	+-------+--------+-------------------------------------+
	...
	LRU(Stack) algorithm finished, with 7 swap times
	-------------------------------------------------------

	----------Least-Recent-Used PageSwap (Matrix)----------
	No.01 Request for Page 01
	+ Matrix -+
	| 0 0 0 0 |
	| 1 0 1 1 |
	| 0 0 0 0 |
	| 0 0 0 0 |
	+-------+--------+-------------------------------------+
	| Frame | PageID | Info                                |
	|   0   |   01   | Page 01 Misses! Fill Empty Frame    |
	+-------+--------+-------------------------------------+
	No.02 Request for Page 02
	+ Matrix -+
	| 0 0 0 0 |
	| 1 0 0 1 |
	| 1 1 0 1 |
	| 0 0 0 0 |
	+-------+--------+-------------------------------------+
	| Frame | PageID | Info                                |
	|   0   |   02   | Page 02 Misses! Swap with LRU Frame |
	+-------+--------+-------------------------------------+
	No.03 Request for Page 02
	+ Matrix -+
	| 0 0 0 0 |
	| 1 0 0 1 |
	| 1 1 0 1 |
	| 0 0 0 0 |
	+-------+--------+-------------------------------------+
	| Frame | PageID | Info                                |
	|   0   |   02   | Page 02 Hits!                       |
	+-------+--------+-------------------------------------+
	...
	LRU(Matrix) algorithm finished, with 7 swap times
	-------------------------------------------------------

	------------Second Chance PageSwap (Matrix)------------
	No.01 Request for Page 01
	+-------+--------+-----+--------------------------------------+
	| Frame | PageID | Use | Info                                 |
	|   0   |   01   |  1  | Page 01 Misses! Fill Empty Frame     |
	+-------+--------+-----+--------------------------------------+

	No.02 Request for Page 02
	+-------+--------+-----+--------------------------------------+
	| Frame | PageID | Use | Info                                 |
	|   0   |   02   |  1  | Page 02 Misses! Swap into this Frame |
	+-------+--------+-----+--------------------------------------+

	No.03 Request for Page 02
	+-------+--------+-----+--------------------------------------+
	| Frame | PageID | Use | Info                                 |
	|   0   |   02   |  1  | Page 02 Hits!                        |
	+-------+--------+-----+--------------------------------------+
	...
	Second-chance algorithm finished, with 7 swap times
	-------------------------------------------------------
	```
		
## 总结

本次实现通过简单的程序模拟了几种页面置换算法，包括FIFO，LRU和第二次机会算法，在LRU上通过两种机制实现（基于堆栈和基于矩阵），除了这些算法，还有LFU、MFU等，未在程序中实现。

## 附录

### 普通测试输出

```
max@ubuntu:~/Desktop/oshomework/LabWeek17/code$ gcc page_replace_test.c
max@ubuntu:~/Desktop/oshomework/LabWeek17/code$ ./a.out

---------Page-replacement Algorithm Simulation---------
Enter the number of frame: 3
Enter the length of reference string: 20
Enter the reference string: 7 0 1 2 0 3 0 4 2 3 0 3 2 1 2 0 1 7 0 1
-------------------------------------------------------

----------------------Choose Mode----------------------
(1) FIFO
(2) LRU (stack implementation)
(3) LRU (matrix implementation)
(4) Second-chance page-replacment
(5) All of them sequently
Choose one mode to run(1-5): 5
-------------------------------------------------------

---------------------FIFO PageSwap---------------------
No.01 Request for Page 07
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   07   | Page 07 Misses! Replace in |
|   1   |        |                            |
|   2   |        |                            |
+-------+--------+----------------------------+
No.02 Request for Page 00
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   07   |                            |
|   1   |   00   | Page 00 Misses! Replace in |
|   2   |        |                            |
+-------+--------+----------------------------+
No.03 Request for Page 01
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   07   |                            |
|   1   |   00   |                            |
|   2   |   01   | Page 01 Misses! Replace in |
+-------+--------+----------------------------+
No.04 Request for Page 02
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   02   | Page 02 Misses! Replace in |
|   1   |   00   |                            |
|   2   |   01   |                            |
+-------+--------+----------------------------+
No.05 Request for Page 00
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   02   |                            |
|   1   |   00   | Page 00 Hits!              |
|   2   |   01   |                            |
+-------+--------+----------------------------+
No.06 Request for Page 03
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   02   |                            |
|   1   |   03   | Page 03 Misses! Replace in |
|   2   |   01   |                            |
+-------+--------+----------------------------+
No.07 Request for Page 00
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   02   |                            |
|   1   |   03   |                            |
|   2   |   00   | Page 00 Misses! Replace in |
+-------+--------+----------------------------+
No.08 Request for Page 04
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   04   | Page 04 Misses! Replace in |
|   1   |   03   |                            |
|   2   |   00   |                            |
+-------+--------+----------------------------+
No.09 Request for Page 02
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   04   |                            |
|   1   |   02   | Page 02 Misses! Replace in |
|   2   |   00   |                            |
+-------+--------+----------------------------+
No.10 Request for Page 03
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   04   |                            |
|   1   |   02   |                            |
|   2   |   03   | Page 03 Misses! Replace in |
+-------+--------+----------------------------+
No.11 Request for Page 00
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   00   | Page 00 Misses! Replace in |
|   1   |   02   |                            |
|   2   |   03   |                            |
+-------+--------+----------------------------+
No.12 Request for Page 03
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   00   |                            |
|   1   |   02   |                            |
|   2   |   03   | Page 03 Hits!              |
+-------+--------+----------------------------+
No.13 Request for Page 02
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   00   |                            |
|   1   |   02   | Page 02 Hits!              |
|   2   |   03   |                            |
+-------+--------+----------------------------+
No.14 Request for Page 01
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   00   |                            |
|   1   |   01   | Page 01 Misses! Replace in |
|   2   |   03   |                            |
+-------+--------+----------------------------+
No.15 Request for Page 02
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   00   |                            |
|   1   |   01   |                            |
|   2   |   02   | Page 02 Misses! Replace in |
+-------+--------+----------------------------+
No.16 Request for Page 00
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   00   | Page 00 Hits!              |
|   1   |   01   |                            |
|   2   |   02   |                            |
+-------+--------+----------------------------+
No.17 Request for Page 01
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   00   |                            |
|   1   |   01   | Page 01 Hits!              |
|   2   |   02   |                            |
+-------+--------+----------------------------+
No.18 Request for Page 07
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   07   | Page 07 Misses! Replace in |
|   1   |   01   |                            |
|   2   |   02   |                            |
+-------+--------+----------------------------+
No.19 Request for Page 00
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   07   |                            |
|   1   |   00   | Page 00 Misses! Replace in |
|   2   |   02   |                            |
+-------+--------+----------------------------+
No.20 Request for Page 01
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   07   |                            |
|   1   |   00   |                            |
|   2   |   01   | Page 01 Misses! Replace in |
+-------+--------+----------------------------+

FIFO algorithm finished, with 15 swap times
-------------------------------------------------------

-----------Least-Recent-Used PageSwap (Stack)----------
No.01 Request for Page 07
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   07   | Page 07 Misses! Fill Empty Frame    |
+-------+--------+-------------------------------------+

No.02 Request for Page 00
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   1   |   00   | Page 00 Misses! Fill Empty Frame    |
|   0   |   07   |                                     |
+-------+--------+-------------------------------------+

No.03 Request for Page 01
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   2   |   01   | Page 01 Misses! Fill Empty Frame    |
|   1   |   00   |                                     |
|   0   |   07   |                                     |
+-------+--------+-------------------------------------+

No.04 Request for Page 02
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   02   | Page 02 Misses! Swap with LRU Frame |
|   2   |   01   |                                     |
|   1   |   00   |                                     |
+-------+--------+-------------------------------------+

No.05 Request for Page 00
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   1   |   00   | Page 00 Hits!                       |
|   0   |   02   |                                     |
|   2   |   01   |                                     |
+-------+--------+-------------------------------------+

No.06 Request for Page 03
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   2   |   03   | Page 03 Misses! Swap with LRU Frame |
|   1   |   00   |                                     |
|   0   |   02   |                                     |
+-------+--------+-------------------------------------+

No.07 Request for Page 00
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   1   |   00   | Page 00 Hits!                       |
|   2   |   03   |                                     |
|   0   |   02   |                                     |
+-------+--------+-------------------------------------+

No.08 Request for Page 04
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   04   | Page 04 Misses! Swap with LRU Frame |
|   1   |   00   |                                     |
|   2   |   03   |                                     |
+-------+--------+-------------------------------------+

No.09 Request for Page 02
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   2   |   02   | Page 02 Misses! Swap with LRU Frame |
|   0   |   04   |                                     |
|   1   |   00   |                                     |
+-------+--------+-------------------------------------+

No.10 Request for Page 03
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   1   |   03   | Page 03 Misses! Swap with LRU Frame |
|   2   |   02   |                                     |
|   0   |   04   |                                     |
+-------+--------+-------------------------------------+

No.11 Request for Page 00
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   00   | Page 00 Misses! Swap with LRU Frame |
|   1   |   03   |                                     |
|   2   |   02   |                                     |
+-------+--------+-------------------------------------+

No.12 Request for Page 03
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   1   |   03   | Page 03 Hits!                       |
|   0   |   00   |                                     |
|   2   |   02   |                                     |
+-------+--------+-------------------------------------+

No.13 Request for Page 02
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   2   |   02   | Page 02 Hits!                       |
|   1   |   03   |                                     |
|   0   |   00   |                                     |
+-------+--------+-------------------------------------+

No.14 Request for Page 01
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   01   | Page 01 Misses! Swap with LRU Frame |
|   2   |   02   |                                     |
|   1   |   03   |                                     |
+-------+--------+-------------------------------------+

No.15 Request for Page 02
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   2   |   02   | Page 02 Hits!                       |
|   0   |   01   |                                     |
|   1   |   03   |                                     |
+-------+--------+-------------------------------------+

No.16 Request for Page 00
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   1   |   00   | Page 00 Misses! Swap with LRU Frame |
|   2   |   02   |                                     |
|   0   |   01   |                                     |
+-------+--------+-------------------------------------+

No.17 Request for Page 01
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   01   | Page 01 Hits!                       |
|   1   |   00   |                                     |
|   2   |   02   |                                     |
+-------+--------+-------------------------------------+

No.18 Request for Page 07
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   2   |   07   | Page 07 Misses! Swap with LRU Frame |
|   0   |   01   |                                     |
|   1   |   00   |                                     |
+-------+--------+-------------------------------------+

No.19 Request for Page 00
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   1   |   00   | Page 00 Hits!                       |
|   2   |   07   |                                     |
|   0   |   01   |                                     |
+-------+--------+-------------------------------------+

No.20 Request for Page 01
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   01   | Page 01 Hits!                       |
|   1   |   00   |                                     |
|   2   |   07   |                                     |
+-------+--------+-------------------------------------+

LRU(Stack) algorithm finished, with 12 swap times
-------------------------------------------------------

----------Least-Recent-Used PageSwap (Matrix)----------
No.01 Request for Page 07
+ Matrix ---------+
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 1 1 1 1 1 1 1 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   07   | Page 07 Misses! Fill Empty Frame    |
|   1   |        |                                     |
|   2   |        |                                     |
+-------+--------+-------------------------------------+

No.02 Request for Page 00
+ Matrix ---------+
| 0 1 1 1 1 1 1 1 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 1 1 1 1 1 1 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   07   |                                     |
|   1   |   00   | Page 00 Misses! Fill Empty Frame    |
|   2   |        |                                     |
+-------+--------+-------------------------------------+

No.03 Request for Page 01
+ Matrix ---------+
| 0 0 1 1 1 1 1 1 |
| 1 0 1 1 1 1 1 1 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 1 1 1 1 1 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   07   |                                     |
|   1   |   00   |                                     |
|   2   |   01   | Page 01 Misses! Fill Empty Frame    |
+-------+--------+-------------------------------------+

No.04 Request for Page 02
+ Matrix ---------+
| 0 0 0 1 1 1 1 1 |
| 1 0 0 1 1 1 1 1 |
| 1 1 0 1 1 1 1 1 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 1 1 1 1 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   02   | Page 02 Misses! Swap with LRU Frame |
|   1   |   00   |                                     |
|   2   |   01   |                                     |
+-------+--------+-------------------------------------+

No.05 Request for Page 00
+ Matrix ---------+
| 0 1 1 1 1 1 1 1 |
| 0 0 0 1 1 1 1 1 |
| 0 1 0 1 1 1 1 1 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 1 1 1 1 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   02   |                                     |
|   1   |   00   | Page 00 Hits!                       |
|   2   |   01   |                                     |
+-------+--------+-------------------------------------+

No.06 Request for Page 03
+ Matrix ---------+
| 0 1 1 0 1 1 1 1 |
| 0 0 0 0 1 1 1 1 |
| 0 1 0 0 1 1 1 1 |
| 1 1 1 0 1 1 1 1 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 1 1 1 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   02   |                                     |
|   1   |   00   |                                     |
|   2   |   03   | Page 03 Misses! Swap with LRU Frame |
+-------+--------+-------------------------------------+

No.07 Request for Page 00
+ Matrix ---------+
| 0 1 1 1 1 1 1 1 |
| 0 0 0 0 1 1 1 1 |
| 0 1 0 0 1 1 1 1 |
| 0 1 1 0 1 1 1 1 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 1 1 1 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   02   |                                     |
|   1   |   00   | Page 00 Hits!                       |
|   2   |   03   |                                     |
+-------+--------+-------------------------------------+

No.08 Request for Page 04
+ Matrix ---------+
| 0 1 1 1 0 1 1 1 |
| 0 0 0 0 0 1 1 1 |
| 0 1 0 0 0 1 1 1 |
| 0 1 1 0 0 1 1 1 |
| 1 1 1 1 0 1 1 1 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 1 1 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   04   | Page 04 Misses! Swap with LRU Frame |
|   1   |   00   |                                     |
|   2   |   03   |                                     |
+-------+--------+-------------------------------------+

No.09 Request for Page 02
+ Matrix ---------+
| 0 1 0 1 0 1 1 1 |
| 0 0 0 0 0 1 1 1 |
| 1 1 0 1 1 1 1 1 |
| 0 1 0 0 0 1 1 1 |
| 1 1 0 1 0 1 1 1 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 1 1 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   04   |                                     |
|   1   |   00   |                                     |
|   2   |   02   | Page 02 Misses! Swap with LRU Frame |
+-------+--------+-------------------------------------+

No.10 Request for Page 03
+ Matrix ---------+
| 0 1 0 0 0 1 1 1 |
| 0 0 0 0 0 1 1 1 |
| 1 1 0 0 1 1 1 1 |
| 1 1 1 0 1 1 1 1 |
| 1 1 0 0 0 1 1 1 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 1 1 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   04   |                                     |
|   1   |   03   | Page 03 Misses! Swap with LRU Frame |
|   2   |   02   |                                     |
+-------+--------+-------------------------------------+

No.11 Request for Page 00
+ Matrix ---------+
| 0 1 1 1 1 1 1 1 |
| 0 0 0 0 0 1 1 1 |
| 0 1 0 0 1 1 1 1 |
| 0 1 1 0 1 1 1 1 |
| 0 1 0 0 0 1 1 1 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 1 1 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   00   | Page 00 Misses! Swap with LRU Frame |
|   1   |   03   |                                     |
|   2   |   02   |                                     |
+-------+--------+-------------------------------------+

No.12 Request for Page 03
+ Matrix ---------+
| 0 1 1 0 1 1 1 1 |
| 0 0 0 0 0 1 1 1 |
| 0 1 0 0 1 1 1 1 |
| 1 1 1 0 1 1 1 1 |
| 0 1 0 0 0 1 1 1 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 1 1 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   00   |                                     |
|   1   |   03   | Page 03 Hits!                       |
|   2   |   02   |                                     |
+-------+--------+-------------------------------------+

No.13 Request for Page 02
+ Matrix ---------+
| 0 1 0 0 1 1 1 1 |
| 0 0 0 0 0 1 1 1 |
| 1 1 0 1 1 1 1 1 |
| 1 1 0 0 1 1 1 1 |
| 0 1 0 0 0 1 1 1 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 1 1 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   00   |                                     |
|   1   |   03   |                                     |
|   2   |   02   | Page 02 Hits!                       |
+-------+--------+-------------------------------------+

No.14 Request for Page 01
+ Matrix ---------+
| 0 0 0 0 1 1 1 1 |
| 1 0 1 1 1 1 1 1 |
| 1 0 0 1 1 1 1 1 |
| 1 0 0 0 1 1 1 1 |
| 0 0 0 0 0 1 1 1 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 1 1 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   01   | Page 01 Misses! Swap with LRU Frame |
|   1   |   03   |                                     |
|   2   |   02   |                                     |
+-------+--------+-------------------------------------+

No.15 Request for Page 02
+ Matrix ---------+
| 0 0 0 0 1 1 1 1 |
| 1 0 0 1 1 1 1 1 |
| 1 1 0 1 1 1 1 1 |
| 1 0 0 0 1 1 1 1 |
| 0 0 0 0 0 1 1 1 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 1 1 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   01   |                                     |
|   1   |   03   |                                     |
|   2   |   02   | Page 02 Hits!                       |
+-------+--------+-------------------------------------+

No.16 Request for Page 00
+ Matrix ---------+
| 0 1 1 1 1 1 1 1 |
| 0 0 0 1 1 1 1 1 |
| 0 1 0 1 1 1 1 1 |
| 0 0 0 0 1 1 1 1 |
| 0 0 0 0 0 1 1 1 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 1 1 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   01   |                                     |
|   1   |   00   | Page 00 Misses! Swap with LRU Frame |
|   2   |   02   |                                     |
+-------+--------+-------------------------------------+

No.17 Request for Page 01
+ Matrix ---------+
| 0 0 1 1 1 1 1 1 |
| 1 0 1 1 1 1 1 1 |
| 0 0 0 1 1 1 1 1 |
| 0 0 0 0 1 1 1 1 |
| 0 0 0 0 0 1 1 1 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 1 1 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   01   | Page 01 Hits!                       |
|   1   |   00   |                                     |
|   2   |   02   |                                     |
+-------+--------+-------------------------------------+

No.18 Request for Page 07
+ Matrix ---------+
| 0 0 1 1 1 1 1 0 |
| 1 0 1 1 1 1 1 0 |
| 0 0 0 1 1 1 1 0 |
| 0 0 0 0 1 1 1 0 |
| 0 0 0 0 0 1 1 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 1 1 1 1 1 1 1 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   01   |                                     |
|   1   |   00   |                                     |
|   2   |   07   | Page 07 Misses! Swap with LRU Frame |
+-------+--------+-------------------------------------+

No.19 Request for Page 00
+ Matrix ---------+
| 0 1 1 1 1 1 1 1 |
| 0 0 1 1 1 1 1 0 |
| 0 0 0 1 1 1 1 0 |
| 0 0 0 0 1 1 1 0 |
| 0 0 0 0 0 1 1 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 1 1 1 1 1 1 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   01   |                                     |
|   1   |   00   | Page 00 Hits!                       |
|   2   |   07   |                                     |
+-------+--------+-------------------------------------+

No.20 Request for Page 01
+ Matrix ---------+
| 0 0 1 1 1 1 1 1 |
| 1 0 1 1 1 1 1 1 |
| 0 0 0 1 1 1 1 0 |
| 0 0 0 0 1 1 1 0 |
| 0 0 0 0 0 1 1 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 0 0 0 0 0 0 |
| 0 0 1 1 1 1 1 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   01   | Page 01 Hits!                       |
|   1   |   00   |                                     |
|   2   |   07   |                                     |
+-------+--------+-------------------------------------+

LRU(Matrix) algorithm finished, with 12 swap times
-------------------------------------------------------

------------Second Chance PageSwap (Matrix)------------
No.01 Request for Page 07
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   07   |  1  | Page 07 Misses! Fill Empty Frame     |
|   1   |        |     |                                      |
|   2   |        |     |                                      |
+-------+--------+-----+--------------------------------------+

No.02 Request for Page 00
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   07   |  1  |                                      |
|   1   |   00   |  1  | Page 00 Misses! Fill Empty Frame     |
|   2   |        |     |                                      |
+-------+--------+-----+--------------------------------------+

No.03 Request for Page 01
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   07   |  1  |                                      |
|   1   |   00   |  1  |                                      |
|   2   |   01   |  1  | Page 01 Misses! Fill Empty Frame     |
+-------+--------+-----+--------------------------------------+

No.04 Request for Page 02
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   02   |  1  | Page 02 Misses! Swap into this Frame |
|   1   |   00   |  0  |                                      |
|   2   |   01   |  0  |                                      |
+-------+--------+-----+--------------------------------------+

No.05 Request for Page 00
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   02   |  1  |                                      |
|   1   |   00   |  1  | Page 00 Hits!                        |
|   2   |   01   |  0  |                                      |
+-------+--------+-----+--------------------------------------+

No.06 Request for Page 03
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   02   |  1  |                                      |
|   1   |   00   |  0  |                                      |
|   2   |   03   |  1  | Page 03 Misses! Swap into this Frame |
+-------+--------+-----+--------------------------------------+

No.07 Request for Page 00
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   02   |  1  |                                      |
|   1   |   00   |  1  | Page 00 Hits!                        |
|   2   |   03   |  1  |                                      |
+-------+--------+-----+--------------------------------------+

No.08 Request for Page 04
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   04   |  1  | Page 04 Misses! Swap into this Frame |
|   1   |   00   |  0  |                                      |
|   2   |   03   |  0  |                                      |
+-------+--------+-----+--------------------------------------+

No.09 Request for Page 02
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   04   |  1  |                                      |
|   1   |   02   |  1  | Page 02 Misses! Swap into this Frame |
|   2   |   03   |  0  |                                      |
+-------+--------+-----+--------------------------------------+

No.10 Request for Page 03
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   04   |  1  |                                      |
|   1   |   02   |  1  |                                      |
|   2   |   03   |  1  | Page 03 Hits!                        |
+-------+--------+-----+--------------------------------------+

No.11 Request for Page 00
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   04   |  0  |                                      |
|   1   |   02   |  0  |                                      |
|   2   |   00   |  1  | Page 00 Misses! Swap into this Frame |
+-------+--------+-----+--------------------------------------+

No.12 Request for Page 03
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   03   |  1  | Page 03 Misses! Swap into this Frame |
|   1   |   02   |  0  |                                      |
|   2   |   00   |  1  |                                      |
+-------+--------+-----+--------------------------------------+

No.13 Request for Page 02
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   03   |  1  |                                      |
|   1   |   02   |  1  | Page 02 Hits!                        |
|   2   |   00   |  1  |                                      |
+-------+--------+-----+--------------------------------------+

No.14 Request for Page 01
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   03   |  0  |                                      |
|   1   |   01   |  1  | Page 01 Misses! Swap into this Frame |
|   2   |   00   |  0  |                                      | 
+-------+--------+-----+--------------------------------------+

No.15 Request for Page 02
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   03   |  0  |                                      |
|   1   |   01   |  1  |                                      |
|   2   |   02   |  1  | Page 02 Misses! Swap into this Frame |
+-------+--------+-----+--------------------------------------+

No.16 Request for Page 00
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   00   |  1  | Page 00 Misses! Swap into this Frame |
|   1   |   01   |  1  |                                      |
|   2   |   02   |  1  |                                      |
+-------+--------+-----+--------------------------------------+

No.17 Request for Page 01
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   00   |  1  |                                      |
|   1   |   01   |  1  | Page 01 Hits!                        |
|   2   |   02   |  1  |                                      |
+-------+--------+-----+--------------------------------------+

No.18 Request for Page 07
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   00   |  0  |                                      |
|   1   |   07   |  1  | Page 07 Misses! Swap into this Frame |
|   2   |   02   |  0  |                                      |
+-------+--------+-----+--------------------------------------+

No.19 Request for Page 00
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   00   |  1  | Page 00 Hits!                        |
|   1   |   07   |  1  |                                      |
|   2   |   02   |  0  |                                      |
+-------+--------+-----+--------------------------------------+

No.20 Request for Page 01
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   00   |  1  |                                      |
|   1   |   07   |  1  |                                      |
|   2   |   01   |  1  | Page 01 Misses! Swap into this Frame |
+-------+--------+-----+--------------------------------------+

Second-chance algorithm finished, with 14 swap times
-------------------------------------------------------
```

### 单帧测试输出

```
max@ubuntu:~/Desktop/oshomework/LabWeek17/code$ ./a.out

---------Page-replacement Algorithm Simulation---------
Enter the number of frame: 1
Enter the length of reference string: 10
Enter the reference string: 1 2 2 3 3 3 2 3 2 1
-------------------------------------------------------

----------------------Choose Mode----------------------
(1) FIFO
(2) LRU (stack implementation)
(3) LRU (matrix implementation)
(4) Second-chance page-replacment
(5) All of them sequently
Choose one mode to run(1-5): 5
-------------------------------------------------------

---------------------FIFO PageSwap---------------------
No.01 Request for Page 01
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   01   | Page 01 Misses! Replace in |
+-------+--------+----------------------------+
No.02 Request for Page 02
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   02   | Page 02 Misses! Replace in |
+-------+--------+----------------------------+
No.03 Request for Page 02
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   02   | Page 02 Hits!              |
+-------+--------+----------------------------+
No.04 Request for Page 03
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   03   | Page 03 Misses! Replace in |
+-------+--------+----------------------------+
No.05 Request for Page 03
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   03   | Page 03 Hits!              |
+-------+--------+----------------------------+
No.06 Request for Page 03
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   03   | Page 03 Hits!              |
+-------+--------+----------------------------+
No.07 Request for Page 02
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   02   | Page 02 Misses! Replace in |
+-------+--------+----------------------------+
No.08 Request for Page 03
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   03   | Page 03 Misses! Replace in |
+-------+--------+----------------------------+
No.09 Request for Page 02
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   02   | Page 02 Misses! Replace in |
+-------+--------+----------------------------+
No.10 Request for Page 01
+-------+--------+----------------------------+
| Frame | PageID | Info                       |
|   0   |   01   | Page 01 Misses! Replace in |
+-------+--------+----------------------------+

FIFO algorithm finished, with 7 swap times
-------------------------------------------------------

-----------Least-Recent-Used PageSwap (Stack)----------
No.01 Request for Page 01
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   01   | Page 01 Misses! Fill Empty Frame    |
+-------+--------+-------------------------------------+

No.02 Request for Page 02
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   02   | Page 02 Misses! Swap with LRU Frame |
+-------+--------+-------------------------------------+

No.03 Request for Page 02
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   02   | Page 02 Hits!                       |
+-------+--------+-------------------------------------+

No.04 Request for Page 03
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   03   | Page 03 Misses! Swap with LRU Frame |
+-------+--------+-------------------------------------+

No.05 Request for Page 03
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   03   | Page 03 Hits!                       |
+-------+--------+-------------------------------------+

No.06 Request for Page 03
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   03   | Page 03 Hits!                       |
+-------+--------+-------------------------------------+

No.07 Request for Page 02
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   02   | Page 02 Misses! Swap with LRU Frame |
+-------+--------+-------------------------------------+

No.08 Request for Page 03
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   03   | Page 03 Misses! Swap with LRU Frame |
+-------+--------+-------------------------------------+

No.09 Request for Page 02
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   02   | Page 02 Misses! Swap with LRU Frame |
+-------+--------+-------------------------------------+

No.10 Request for Page 01
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   01   | Page 01 Misses! Swap with LRU Frame |
+-------+--------+-------------------------------------+

LRU(Stack) algorithm finished, with 7 swap times
-------------------------------------------------------

----------Least-Recent-Used PageSwap (Matrix)----------
No.01 Request for Page 01
+ Matrix -+
| 0 0 0 0 |
| 1 0 1 1 |
| 0 0 0 0 |
| 0 0 0 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   01   | Page 01 Misses! Fill Empty Frame    |
+-------+--------+-------------------------------------+

No.02 Request for Page 02
+ Matrix -+
| 0 0 0 0 |
| 1 0 0 1 |
| 1 1 0 1 |
| 0 0 0 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   02   | Page 02 Misses! Swap with LRU Frame |
+-------+--------+-------------------------------------+

No.03 Request for Page 02
+ Matrix -+
| 0 0 0 0 |
| 1 0 0 1 |
| 1 1 0 1 |
| 0 0 0 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   02   | Page 02 Hits!                       |
+-------+--------+-------------------------------------+

No.04 Request for Page 03
+ Matrix -+
| 0 0 0 0 |
| 1 0 0 0 |
| 1 1 0 0 |
| 1 1 1 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   03   | Page 03 Misses! Swap with LRU Frame |
+-------+--------+-------------------------------------+

No.05 Request for Page 03
+ Matrix -+
| 0 0 0 0 |
| 1 0 0 0 |
| 1 1 0 0 |
| 1 1 1 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   03   | Page 03 Hits!                       |
+-------+--------+-------------------------------------+

No.06 Request for Page 03
+ Matrix -+
| 0 0 0 0 |
| 1 0 0 0 |
| 1 1 0 0 |
| 1 1 1 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   03   | Page 03 Hits!                       |
+-------+--------+-------------------------------------+

No.07 Request for Page 02
+ Matrix -+
| 0 0 0 0 |
| 1 0 0 0 |
| 1 1 0 1 |
| 1 1 0 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   02   | Page 02 Misses! Swap with LRU Frame |
+-------+--------+-------------------------------------+

No.08 Request for Page 03
+ Matrix -+
| 0 0 0 0 |
| 1 0 0 0 |
| 1 1 0 0 |
| 1 1 1 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   03   | Page 03 Misses! Swap with LRU Frame |
+-------+--------+-------------------------------------+

No.09 Request for Page 02
+ Matrix -+
| 0 0 0 0 |
| 1 0 0 0 |
| 1 1 0 1 |
| 1 1 0 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   02   | Page 02 Misses! Swap with LRU Frame |
+-------+--------+-------------------------------------+

No.10 Request for Page 01
+ Matrix -+
| 0 0 0 0 |
| 1 0 1 1 |
| 1 0 0 1 |
| 1 0 0 0 |
+-------+--------+-------------------------------------+
| Frame | PageID | Info                                |
|   0   |   01   | Page 01 Misses! Swap with LRU Frame |
+-------+--------+-------------------------------------+

LRU(Matrix) algorithm finished, with 7 swap times
-------------------------------------------------------

------------Second Chance PageSwap (Matrix)------------
No.01 Request for Page 01
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   01   |  1  | Page 01 Misses! Fill Empty Frame     |
+-------+--------+-----+--------------------------------------+

No.02 Request for Page 02
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   02   |  1  | Page 02 Misses! Swap into this Frame |
+-------+--------+-----+--------------------------------------+

No.03 Request for Page 02
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   02   |  1  | Page 02 Hits!                        |
+-------+--------+-----+--------------------------------------+

No.04 Request for Page 03
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   03   |  1  | Page 03 Misses! Swap into this Frame |
+-------+--------+-----+--------------------------------------+

No.05 Request for Page 03
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   03   |  1  | Page 03 Hits!                        |
+-------+--------+-----+--------------------------------------+

No.06 Request for Page 03
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   03   |  1  | Page 03 Hits!                        |
+-------+--------+-----+--------------------------------------+

No.07 Request for Page 02
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   02   |  1  | Page 02 Misses! Swap into this Frame |
+-------+--------+-----+--------------------------------------+

No.08 Request for Page 03
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   03   |  1  | Page 03 Misses! Swap into this Frame |
+-------+--------+-----+--------------------------------------+

No.09 Request for Page 02
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   02   |  1  | Page 02 Misses! Swap into this Frame |
+-------+--------+-----+--------------------------------------+

No.10 Request for Page 01
+-------+--------+-----+--------------------------------------+
| Frame | PageID | Use | Info                                 |
|   0   |   01   |  1  | Page 01 Misses! Swap into this Frame |
+-------+--------+-----+--------------------------------------+

Second-chance algorithm finished, with 7 swap times
-------------------------------------------------------
```

