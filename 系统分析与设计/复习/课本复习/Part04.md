# Part04 Logical Architecture 逻辑架构

[toc]

## PDF内容 - 设计原则与实现

1. 什么是设计工程（design engineering）
   1. 设计工程是决定如何实现荣建解决方案以满足需求的过程，**它包含了一组高质量系统开发的设计原则：模块化、内聚耦合、信息隐藏、抽象细化与重构。**
      1. 模块化（modularity）
      2. 高内聚（cohesion）与低耦合（coupling）：
         1. 内聚：一个模块的元素属于一起的程度，内聚模块执行单个任务，几乎不需要与其他模块进行交互
         2. 耦合：模块之间的相互依赖程度
      3. 信息隐藏（information hiding）：除非必要，不要公开模块的内部信息
      4. 抽象（abstraction）和细化（refinement）：前者以管理软件的复杂性，并预见细节变化和未来的变化；后者随着设计的进展，采用自顶向下的设计策略，从高层次的抽象中揭示低层次的细节
      5. 重构（refactoring）：使软件更容易集成、测试和维护
2. SOLID原则
   * Single-responsibility principle 单一职责原则：表明一个类有且只有一个职责
   * Open-closed principle 开封封闭原则：一个类应该对扩展开放，对修改关闭
   * Liskov substitution principle 里氏替换原则：派生的子类应该是可替换基类的
   * Interface segregation principle 接口隔离原则：类不应该被迫依赖他们不使用的方法
   * Dependency Inversion Principle 依赖倒置原则：高层模块不应该依赖低层模块，他们应该依赖抽象类或者接口
3. 如何做软件设计
   1. 两个阶段：
      * 高层：架构设计 - 定义主要组件及其关系
      * 低层：详细设计 - 决定每个组件的类、接口和实现算法
   2. 两种方法：
      * 重用或修改现有的设计模型
        * 架构风格
        * 设计模式和重构
      * 迭代和进化设计
        * 包图、类图和序列图

## Chap12 从需求到设计 - 迭代进化

1. 迭代开发：每次迭代都会经历从一需求分析为焦点到以设计实现为焦点的转变，早期迭代在分析活动上花费较多时间，当设想和规格通过早期编程和测试和反馈时趋于稳定，在后期迭代中分析活动减少，更加注重构建解决方案。

## Chap13 逻辑架构与UML包图

2. **逻辑架构（logical architecture）：*软件类*的宏观组织结构，它将软件类组织为包（命名空间）、子系统、层等。**

3. 层（layer）：对类、包或子系统的粗粒度分组，具有对系统主要方面加以内聚的职责，高层可以调用低层的服务。**OO中，常见的层包括：用户界面层、应用逻辑与领域对象层、技术服务层**

4. 软件架构：？

   ![image-20210711164829762](C:\Users\17727\AppData\Roaming\Typora\typora-user-images\image-20210711164829762.png)

5. UML包图：

   ![image-20210711164929906](C:\Users\17727\AppData\Roaming\Typora\typora-user-images\image-20210711164929906.png)

   * 依赖线：图中有箭头的虚线，箭头指向被依赖的包
   * UML包表示一个命名空间，包与包之间可有嵌套关系

6. 使用层进行设计，层的本质思想：

   1. 将大型的逻辑结构组织为独立的、职责相关的离散层，具有清晰、内聚的分离。低层为低级别、一般性服务，高层为与应用相关的服务
   2. 协作和耦合从高层到低层进行的，避免从低层到高层的耦合。

7. 层的好处：

   1. 实现关系分离：高级别服务于底层服务分离、特殊与一般服务分离，减少耦合和依赖性，增强内聚性、提供复用性并使概念更加清晰。
   2. 封装和分解了复杂性
   3. 某些层能够被新的实现替换
   4. 低层可复用
   5. 逻辑划分便于团队分工

8. 领域对象（domain object）：表示问题领域空间的事物，并与应用与业务逻辑相关。其名称和信息类似于真实世界的领域，并为其分配应用逻辑职责。对此应用逻辑层被称为架构的领域层，其包含领域对象。

9. **领域层与领域模型的关系：**

   ![image-20210711171241822](C:\Users\17727\AppData\Roaming\Typora\typora-user-images\image-20210711171241822.png)

10. 层（layer）和分区（partition）：分别对系统进行垂直方向和水平方向的划分。
11. 模型-视图分离原则：模型（领域层）-视图（UI）
    1. 不要将非UI对象直接与UI对象连接或耦合
    2. 不要在UI对象方法中加入应用逻辑

